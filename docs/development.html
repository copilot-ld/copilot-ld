<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Copilot-LD â€“ Development Guide</title>
    <link rel="icon" href="favicon.svg" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.classless.min.css"
    />
    <link rel="stylesheet" href="assets/main.css" />
  </head>
  <body>
    <header>
      <hgroup>
        <h1>ðŸ§¬ <mark>Copilot-LD</mark></h1>
        <p>An intelligent agent leveraging GitHub Copilot and Linked Data</p>
      </hgroup>
      <nav>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="architecture.html">Architecture</a></li>
          <li><a href="configuration.html">Configuration</a></li>
          <li><a href="processing.html">Processing</a></li>
          <li><a href="deployment.html">Deployment</a></li>
          <li><a href="development.html" class="active">Development</a></li>
        </ul>
      </nav>
    </header>
    <main>
      <h2>Development Guide</h2>

      <p>
        This guide helps you set up Copilot-LD for local development. Follow
        these steps to configure GitHub integration, prepare your knowledge
        base, and run the system with <code>npm run dev</code>.
      </p>

      <h3>Prerequisites</h3>

      <ul>
        <li>GitHub account with access to GitHub Copilot</li>
      </ul>

      <h3>1. Initial Setup</h3>

      <p>Clone the repository and install dependencies:</p>

      <pre><code>git clone https://github.com/copilot-ld/copilot-ld.git
cd copilot-ld
npm install</code></pre>

      <p>Copy configuration templates:</p>

      <pre><code># Copy configuration templates (see Configuration Guide for details)
cp config/.env{.example,}
cp config/config{.example,}.yml
cp config/assistants{.example,}.yml</code></pre>

      <h3>2. Configuration</h3>

      <p>
        Set up your environment variables, authentication, and service
        configuration. Follow the
        <a href="configuration.html">Configuration Guide</a>
        for complete setup instructions including GitHub authentication and
        service secrets.
      </p>

      <h3>3. Generate Code from Protocol Buffers</h3>

      <p>
        Generate typed definitions, service bases, and clients from the
        <code>proto/</code> schemas and any optional tool schemas in
        <code>tools/</code>:
      </p>

      <pre><code>npm run codegen</code></pre>

      <p>
        For details about the code generation process and specific generators,
        see the
        <a href="architecture.html#code-generation">Code Generation</a> section
        in the Architecture Guide.
      </p>

      <p>
        Prepare your knowledge base through the offline processing pipeline:
      </p>

      <h4>Download Knowledge Data</h4>

      <p>
        Configure the download source in <code>config.yml</code> and download
        knowledge assets:
      </p>

      <pre><code># Edit config.yml to set your source repository
tool:
  download:
    owner: "your-github-owner"
    repo: "your-knowledge-repo"

# Download the data
node tools/download.js</code></pre>

      <h4>Optional: Setup Example Tools that Extend the Platform</h4>

      <p>
        To experiment with custom tools that
        <strong>extend the core Copilot-LD system</strong>, you can copy the
        example tool definitions:
      </p>

      <pre><code># Copy example tools that extend the platform
cp -r ./examples/tools/* ./tools/

# Regenerate code to include the new tool definitions
npm run codegen</code></pre>

      <p>
        <strong>Note</strong>: These tools are
        <strong>extensions to the core system</strong> and provide additional
        functionality beyond the base platform capabilities. They demonstrate
        how to create custom protobuf definitions and services that integrate
        with the Tool service.
      </p>

      <h4>Process Knowledge Base into Resources</h4>

      <p>
        Extract and process content from HTML files into searchable resources.
        For complete processing instructions including tool and vector
        processing, see the <a href="processing.html">Processing Guide</a>.
      </p>

      <pre><code>node tools/resources.js</code></pre>

      <h4>Example Knowledge Base</h4>

      <p>
        For testing and demonstration, you can use the example knowledge base
        provided in the repository. See the
        <a href="processing.html#example-knowledge-base">Processing Guide</a>
        for details on setting up example knowledge files and processing them
        into searchable resources.
      </p>

      <h4>Create Vector Embeddings</h4>

      <p>
        Process resources and create vector embeddings for semantic search. For
        details on the vector processing pipeline, see the
        <a href="processing.html#vector-processing">Vector Processing</a>
        section in the Processing Guide.
      </p>

      <pre><code>node tools/vectors.js</code></pre>

      <h3>5. Example HTML Content</h3>

      <p>
        If you don't have existing knowledge assets, you can create example HTML
        files with structured microdata. For detailed examples and best
        practices on knowledge base structure, see the
        <a href="processing.html#knowledge-base-structure"
          >Knowledge Base Structure</a
        >
        section in the Processing Guide.
      </p>

      <p>
        The processing pipeline looks for elements with microdata attributes and
        extracts them as individual knowledge items using structured data
        (Schema.org vocabularies).
      </p>

      <h3>5. Start the System</h3>

      <p>Launch all services in development mode:</p>

      <pre><code>npm run dev</code></pre>

      <p>
        This starts all microservices (agent, llm, memory, vector) and
        extensions (web, copilot) concurrently.
      </p>

      <h3>6. Interactive Chat</h3>

      <p>Use the chat tool to interact with your configured knowledge base:</p>

      <h4>Interactive Mode</h4>

      <pre><code>node tools/chat.js
&gt; What are Docker security best practices?
&gt; How do I implement rolling updates in Kubernetes?</code></pre>

      <h4>Scripted Testing</h4>

      <pre><code>echo "Tell me about container security" | node tools/chat.js</code></pre>

      <h3>7. Search with CLI Flags</h3>

      <p>
        The search tool supports command-line flags via the internal
        <code>Repl</code> state. This is useful for non-interactive runs:
      </p>

      <pre><code># Limit results and set a minimum similarity threshold
echo "docker" | node tools/search.js --limit 10 --threshold 0.25

# Use the descriptor index
echo "kubernetes deployment" | node tools/search.js --index descriptor --limit 5</code></pre>

      <h4>Web Interface</h4>

      <p>Access the web interface at:</p>

      <ul>
        <li>
          <strong>Web Extension</strong>: <code>http://localhost:3000/web</code>
        </li>
        <li>
          <strong>Copilot Extension</strong>:
          <code>http://localhost:3001/copilot</code>
        </li>
      </ul>

      <h3>Troubleshooting</h3>

      <h4>Common Issues</h4>

      <ul>
        <li>
          <strong>Token permissions</strong>: Ensure your GitHub token has
          Copilot access and appropriate repository permissions
        </li>
        <li>
          <strong>Empty responses</strong>: Verify that vector indices were
          created successfully in <code>data/vectors/</code>
        </li>
        <li>
          <strong>Service startup errors</strong>: Check that all environment
          variables are configured in <code>config/.env</code>
        </li>
        <li>
          <strong>Network issues</strong>: Ensure ports 3000â€“3005 are available
          for service communication
        </li>
      </ul>

      <h4>Validation</h4>

      <p>Verify your setup by running:</p>

      <pre><code># Check code quality
npm run check

# Test basic functionality
echo "hello" | node tools/chat.js</code></pre>

      <h3>Next Steps</h3>

      <ul>
        <li>
          Customize system prompts in <code>config.yml</code> for your domain
        </li>
        <li>
          Add more knowledge sources by updating the download configuration
        </li>
        <li>
          Explore the <a href="architecture.html">system architecture</a> to
          understand component interactions
        </li>
        <li>
          For production deployment, see the
          <a href="deployment.html">deployment guide</a>
        </li>
      </ul>
    </main>
    <footer>
      <p>Â© D. Olsson</p>
    </footer>
  </body>
</html>
