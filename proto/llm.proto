syntax = "proto3";

package llm;

import "common.proto";
import "tool.proto";

service Llm {
  rpc CreateEmbeddings(EmbeddingsRequest) returns (EmbeddingsResponse);
  rpc CreateCompletions(CompletionsRequest) returns (CompletionsResponse);
}

message EmbeddingsRequest {
  repeated string chunks = 1;
  string github_token = 2;
  optional string model = 3;
}

message EmbeddingsResponse {
  repeated common.Embedding data = 1;
}

message CompletionsRequest {
  repeated common.Message messages = 1;
  repeated tool.ToolDefinition tools = 2;
  optional float temperature = 3;
  string github_token = 4;
  optional string model = 5;
}

message CompletionsResponse {
  string id = 1;
  string object = 2;
  int64 created = 3;
  string model = 4;
  repeated common.Choice choices = 5;
  common.Usage usage = 6;
}
