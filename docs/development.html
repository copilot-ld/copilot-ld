<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Copilot-LD â€“ Development Guide</title>
    <link rel="icon" href="favicon.svg" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css"
    />
    <link rel="stylesheet" href="assets/main.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.min.css"
    />
  </head>
  <body>
    <header class="container">
      <hgroup>
        <h1>
          <a href="index.html">ðŸ§¬ <mark>Copilot-LD</mark></a>
        </h1>
        <p>An intelligent agent leveraging GitHub Copilot and Linked Data</p>
      </hgroup>
      <nav>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="concepts.html">Concepts</a></li>
          <li>
            <details class="dropdown">
              <summary>Docs</summary>
              <ul>
                <li><a href="architecture.html">Architecture</a></li>
                <li><a href="reference.html">Reference</a></li>
              </ul>
            </details>
          </li>
          <li>
            <details class="dropdown">
              <summary>Guides</summary>
              <ul>
                <li><a href="configuration.html">Configuration</a></li>
                <li><a href="processing.html">Processing</a></li>
                <li><a href="deployment.html">Deployment</a></li>
                <li>
                  <a href="development.html" class="active">Development</a>
                </li>
              </ul>
            </details>
          </li>
        </ul>
      </nav>
    </header>
    <main class="container">
      <h2>Development Guide</h2>

      <p>
        This guide focuses on local development, testing, and validation
        workflows for Copilot-LD. For initial setup and configuration, see the
        <a href="configuration.html">Configuration Guide</a>. For knowledge base
        processing, see the <a href="processing.html">Processing Guide</a>.
      </p>

      <aside>
        <nav>
          <h5>Contents</h5>
          <ul>
            <li><a href="#prerequisites">Prerequisites</a></li>
            <li><a href="#workflow">Development Workflow</a></li>
            <li><a href="#testing">Testing and Validation</a></li>
            <li><a href="#scripts">Development Scripts</a></li>
            <li><a href="#codegen">Code Generation Workflow</a></li>
            <li><a href="#web">Web Interface Testing</a></li>
            <li><a href="#troubleshooting">Development Troubleshooting</a></li>
            <li><a href="#next">Next Steps</a></li>
          </ul>
        </nav>
        <hr />
      </aside>

      <h3 id="prerequisites">Prerequisites</h3>

      <p>Complete the initial setup steps:</p>
      <ul>
        <li>
          <a href="configuration.html">Configuration Guide</a> - Environment
          setup and GitHub authentication
        </li>
        <li>
          <a href="processing.html">Processing Guide</a> - Knowledge base
          processing (if using custom content)
        </li>
      </ul>

      <h3 id="workflow">Development Workflow</h3>

      <p>
        By default all services run in development mode with debug logging
        enabled.
      </p>

      <pre><code class="language-bash"># Launch all services in development mode
npm run dev:start

# Stop development environment
npm run dev:stop

# Restart development environment
npm run dev:restart</code></pre>

      <h3 id="testing">Testing and Validation</h3>

      <p>Run various testing and validation checks:</p>

      <pre><code class="language-bash"># Execute all tests
npm test

# Execute tests in watch mode for TDD
npm run test:watch

# Run performance benchmarks
npm run perf

# Run all quality checks
npm run check

# Auto-fix issues where possible
npm run check:fix

# Individual checks
npm run lint           # ESLint code analysis
npm run format         # Prettier formatting check
npm run spellcheck     # Spell check documentation</code></pre>

      <h4>Security Auditing</h4>

      <p>Check for security vulnerabilities:</p>

      <pre><code class="language-bash">npm run security</code></pre>

      <h3 id="scripts">Development Scripts</h3>

      <p>
        The <code>scripts/</code> directory contains utilities for development
        and testing:
      </p>

      <h4>Interactive Testing</h4>

      <pre><code class="language-bash"># Interactive chat with the system
npm run chat
&gt; What are Docker security best practices?
&gt; How do I implement rolling updates in Kubernetes?

# Semantic search testing
npm run search
&gt; docker security
&gt; kubernetes deployment</code></pre>

      <h4>Scripted Testing</h4>

      <pre><code class="language-bash"># Pipe input for automated testing
echo "Tell me about container security" | npm run chat

# Search with CLI flags for precise testing
echo "docker" | npm run search -- --limit 10 --threshold 0.25

# Test descriptor-based search
echo "kubernetes deployment" | npm run search -- --index descriptor --limit 5</code></pre>

      <h4>System Validation Scripts</h4>

      <pre><code class="language-bash"># Test vector embeddings and similarity
node scripts/cosine.js "first text" "second text"

# Validate model configurations
npx env-cmd -- node scripts/models.js

# Test embedding generation
echo "sample text" | npx env-cmd -- node scripts/embed.js</code></pre>

      <h4>Development Utilities</h4>

      <pre><code class="language-bash"># Generate SSL certificates for HTTPS development
node scripts/cert.js

# Generate service authentication secrets
node scripts/secret.js

# GitHub token setup and validation
npx env-cmd -- node scripts/token.js</code></pre>

      <h3 id="codegen">Code Generation Workflow</h3>

      <p>
        For details about Protocol Buffer compilation and type generation, see
        the
        <a href="architecture.html#code-generation">Code Generation</a> section
        in the Architecture Guide.
      </p>

      <pre><code class="language-bash"># Generate all code from proto definitions
mkdir generated
npm run codegen

npm run codegen:type      # Type definitions only
npm run codegen:client    # Client stubs only
npm run codegen:service   # Service bases only</code></pre>

      <h3 id="web">Web Interface Testing</h3>

      <p>Access the development interfaces:</p>

      <ul>
        <li>
          <strong>Web Extension</strong>: <code>http://localhost:3000/web</code>
        </li>
        <li>
          <strong>Documentation Server</strong>:
          <code>npm run docs</code> serves on <code>http://localhost:8080</code>
        </li>
      </ul>

      <h3 id="troubleshooting">Development Troubleshooting</h3>

      <h4>Service Issues</h4>

      <ul>
        <li>
          <strong>Port conflicts</strong>: Ensure ports 3000â€“3007 are available
        </li>
        <li>
          <strong>Service startup failures</strong>: Check
          <code>config/.env</code> configuration
        </li>
        <li>
          <strong>gRPC connection errors</strong>: Verify service networking
          configuration
        </li>
        <li>
          <strong>Authentication failures</strong>: Validate
          <code>SERVICE_SECRET</code> and <code>GITHUB_TOKEN</code>
        </li>
      </ul>

      <h4>Knowledge Base Issues</h4>

      <ul>
        <li>
          <strong>Empty responses</strong>: Verify vector indices exist in
          <code>data/vectors/</code>
        </li>
        <li>
          <strong>Processing errors</strong>: Check
          <code>data/resources/</code> for processed content
        </li>
        <li>
          <strong>Missing tools</strong>: Ensure
          <code>npm run codegen</code> completed successfully
        </li>
      </ul>

      <h4>Development Validation</h4>

      <p>Quick validation of your development environment:</p>

      <pre><code class="language-bash"># Test basic system functionality
echo "hello" | npm run chat

# Verify code generation
ls generated/types/
ls generated/services/

# Check processed knowledge base
ls data/resources/ | head -5
ls data/vectors/

# Validate service configuration
npm test -- --grep="Config"</code></pre>

      <h3 id="next">Next Steps</h3>

      <ul>
        <li>
          <a href="configuration.html">Configuration Guide</a> - Environment
          setup and authentication
        </li>
        <li>
          <a href="processing.html">Processing Guide</a> - Knowledge base
          processing and tool setup
        </li>
        <li>
          <a href="architecture.html">Architecture Guide</a> - Understanding
          system components and patterns
        </li>
        <li>
          <a href="deployment.html">Deployment Guide</a> - Production deployment
          options
        </li>
      </ul>
    </main>
    <footer class="container">
      <p>Â© D. Olsson</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-bash.min.js"></script>
  </body>
</html>
