<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Copilot-LD â€“ Getting Started</title>
    <link rel="icon" href="favicon.svg" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.classless.min.css"
    />
    <link rel="stylesheet" href="assets/main.css" />
  </head>
  <body>
    <header>
      <hgroup>
        <h1>ðŸ§¬ <mark>Copilot-LD</mark></h1>
        <p>An intelligent agent leveraging GitHub Copilot and Linked Data</p>
      </hgroup>
      <nav>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="architecture.html">Architecture</a></li>
          <li><a href="getting-started.html">Getting Started</a></li>
        </ul>
      </nav>
    </header>
    <main>
      <h2>Getting Started</h2>

      <p>
        This guide helps you quickly set up and run Copilot-LD for the first
        time. Follow these steps to configure GitHub integration, prepare your
        knowledge base, and start interacting with the system.
      </p>

      <h3>Prerequisites</h3>

      <ul>
        <li>Node.js 22+ installed</li>
        <li>GitHub account with access to GitHub Copilot</li>
        <li>Basic familiarity with command line tools</li>
      </ul>

      <h3>1. Initial Setup</h3>

      <p>Clone the repository and install dependencies:</p>

      <pre><code>git clone https://github.com/copilot-ld/copilot-ld.git
cd copilot-ld
npm install</code></pre>

      <p>Copy configuration templates:</p>

      <pre><code>cp config/.env{.example,}
cp config/config{.example,}.yml</code></pre>

      <h3>2. Generate Code from Protocol Buffers</h3>

      <p>
        Generate typed definitions, service bases, and clients from the
        <code>proto/</code> schemas. This also includes any optional tool
        schemas in <code>tools/</code> that
        <strong>extend the core system</strong>. Run this after a fresh clone or
        whenever the proto files change.
      </p>

      <pre><code>npm run codegen
# or generate a specific artifact
npm run codegen:type     # libtype types and declarations
npm run codegen:service  # service base classes for gRPC servers
npm run codegen:client   # gRPC clients for services</code></pre>

      <h3>2. GitHub Authentication</h3>

      <p>
        Authentication uses GitHub's OAuth Device Flow. Set your
        <code>GITHUB_CLIENT_ID</code> in <code>config/.env</code> before
        generating a token.
      </p>

      <h4>Set Client ID</h4>

      <p>Edit the environment file:</p>

      <pre><code># Edit config/.env
GITHUB_CLIENT_ID=your_20_character_client_id_here</code></pre>

      <h3>3. Token Setup</h3>

      <p>Generate a GitHub token for API access:</p>

      <pre><code>node tools/token.js</code></pre>

      <p>
        The tool saves the token to <code>config/.ghtoken</code> so services and
        tools can read it automatically. Alternatively, you can set the
        <code>GITHUB_TOKEN</code> environment variable in
        <code>config/.env</code>.
      </p>

      <h4>Service Authentication</h4>

      <p>Generate a shared secret for service-to-service authentication:</p>

      <pre><code>node tools/secret.js</code></pre>

      <p>
        This command automatically updates <code>config/.env</code> with the
        generated secret.
      </p>

      <h3>4. Offline Knowledge Processing</h3>

      <p>
        Prepare your knowledge base through the offline processing pipeline:
      </p>

      <h4>Download Knowledge Data</h4>

      <p>
        Configure the download source in <code>config.yml</code> and download
        knowledge assets:
      </p>

      <pre><code># Edit config.yml to set your source repository
tool:
  download:
    owner: "your-github-owner"
    repo: "your-knowledge-repo"

# Download the data
node tools/download.js</code></pre>

      <h4>Optional: Setup Example Tools that Extend the Platform</h4>

      <p>
        To experiment with custom tools that
        <strong>extend the core Copilot-LD system</strong>, you can copy the
        example tool definitions:
      </p>

      <pre><code># Copy example tools that extend the platform
cp -r ./examples/tools/* ./tools/

# Regenerate code to include the new tool definitions
npm run codegen</code></pre>

      <p>
        <strong>Note</strong>: These tools are
        <strong>extensions to the core system</strong> and provide additional
        functionality beyond the base platform capabilities. They demonstrate
        how to create custom protobuf definitions and services that integrate
        with the Tool service.
      </p>

      <h4>Process Knowledge Base into Resources</h4>

      <p>Extract and process content from HTML files:</p>

      <pre><code>node tools/resources.js</code></pre>

      <p>
        This scans HTML files for microdata items, extracts content, and creates
        searchable resources stored in <code>data/storage/resources/</code>.
      </p>

      <h4>Example Knowledge Base</h4>

      <p>
        An example knowledge base with HTML files is available in
        <code>examples/knowledge</code>. You can copy these files to your data
        directory to test the offline processing pipeline:
      </p>

      <pre><code>cp examples/knowledge/* data/knowledge/</code></pre>

      <h4>Create Vector Embeddings</h4>

      <p>Process resources and create vector embeddings:</p>

      <pre><code>node tools/vectors.js</code></pre>

      <p>
        This generates embeddings of resource content and descriptors for
        efficient similarity search, stored in
        <code>data/storage/vectors/</code>.
      </p>

      <h3>5. Example HTML Content</h3>

      <p>
        If you don't have existing knowledge assets, create an example HTML file
        with microdata:
      </p>

      <pre><code>&lt;!-- Save as data/knowledge/example.html --&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Example Knowledge&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;article itemscope itemtype="http://schema.org/Article"&gt;
        &lt;h1 itemprop="headline"&gt;Docker Security Best Practices&lt;/h1&gt;
        &lt;div itemprop="articleBody"&gt;
            &lt;p&gt;Always use specific image tags instead of 'latest' to ensure reproducible builds and security.&lt;/p&gt;
            &lt;p&gt;Implement multi-stage builds to reduce attack surface and image size.&lt;/p&gt;
        &lt;/div&gt;
    &lt;/article&gt;
    
    &lt;article itemscope itemtype="http://schema.org/Article"&gt;
        &lt;h1 itemprop="headline"&gt;Kubernetes Deployment Strategies&lt;/h1&gt;
        &lt;div itemprop="articleBody"&gt;
            &lt;p&gt;Rolling updates provide zero-downtime deployments by gradually replacing instances.&lt;/p&gt;
            &lt;p&gt;Use readiness and liveness probes to ensure application health during deployments.&lt;/p&gt;
        &lt;/div&gt;
    &lt;/article&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

      <p>
        The chunking process looks for elements with microdata attributes and
        extracts them as individual knowledge items using structured data.
      </p>

      <h3>6. Start the System</h3>

      <p>Launch all services in development mode:</p>

      <pre><code>npm run dev</code></pre>

      <p>
        This starts all microservices (agent, llm, memory, vector) and
        extensions (web, copilot) concurrently.
      </p>

      <h3>7. Interactive Chat</h3>

      <p>Use the chat tool to interact with your configured knowledge base:</p>

      <h4>Interactive Mode</h4>

      <pre><code>node tools/chat.js
&gt; What are Docker security best practices?
&gt; How do I implement rolling updates in Kubernetes?</code></pre>

      <h4>Scripted Testing</h4>

      <pre><code>echo "Tell me about container security" | node tools/chat.js</code></pre>

      <h3>8. Search with CLI Flags</h3>

      <p>
        The search tool supports command-line flags via the internal
        <code>Repl</code> state. This is useful for non-interactive runs:
      </p>

      <pre><code># Limit results and set a minimum similarity threshold
echo "docker" | node tools/search.js --limit 10 --threshold 0.25

# Use the descriptor index
echo "kubernetes deployment" | node tools/search.js --index descriptor --limit 5</code></pre>

      <h4>Web Interface</h4>

      <p>Access the web interface at:</p>

      <ul>
        <li>
          <strong>Web Extension</strong>: <code>http://localhost:3000/web</code>
        </li>
        <li>
          <strong>Copilot Extension</strong>:
          <code>http://localhost:3001/copilot</code>
        </li>
      </ul>

      <h3>Troubleshooting</h3>

      <h4>Common Issues</h4>

      <ul>
        <li>
          <strong>Token permissions</strong>: Ensure your GitHub token has
          Copilot access and appropriate repository permissions
        </li>
        <li>
          <strong>Empty responses</strong>: Verify that vector indices were
          created successfully in <code>data/storage/vectors/</code>
        </li>
        <li>
          <strong>Service startup errors</strong>: Check that all environment
          variables are configured in <code>config/.env</code>
        </li>
        <li>
          <strong>Network issues</strong>: Ensure ports 3000â€“3005 are available
          for service communication
        </li>
      </ul>

      <h4>Validation</h4>

      <p>Verify your setup by running:</p>

      <pre><code># Check code quality
npm run check

# Test basic functionality
echo "hello" | node tools/chat.js</code></pre>

      <h3>Next Steps</h3>

      <ul>
        <li>
          Customize system prompts in <code>config.yml</code> for your domain
        </li>
        <li>
          Add more knowledge sources by updating the download configuration
        </li>
        <li>
          Explore the <a href="architecture.html">system architecture</a> to
          understand component interactions
        </li>
        <li>
          Review development guidelines in the main
          <code>README.md</code> for contributing
        </li>
      </ul>
    </main>
    <footer>
      <p>Â© D. Olsson</p>
    </footer>
  </body>
</html>
